{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","components/ErrorMessage.js","App.js","index.js"],"names":["Filter","newSearch","setNewSearch","search","name","value","onChange","event","target","PersonForm","newName","newNumber","handleInputChange","handleSubmit","onSubmit","type","Person","person","deletePerson","number","onClick","id","Notification","message","style","color","fontStyle","fontSize","className","baseUrl","personsService","getAll","axios","get","create","newObject","post","update","put","then","response","data","delete","ErrorMessage","App","useState","persons","setPersons","showPersons","setShowPersons","setNewName","setNewNumber","setMessage","errorMessage","setErrorMessage","useEffect","window","confirm","filter","toLowerCase","includes","preventDefault","found","find","changedPerson","returnedPerson","map","setTimeout","catch","error","console","log","concat","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33f2c199.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newSearch, setNewSearch, search }) => {\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value)\n    search(event.target.value)\n  }\n\n  return (\n    <p>\n      filter shown with{' '}\n      <input name='search' value={newSearch} onChange={handleSearch} />\n    </p>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({\n  newName,\n  newNumber,\n  handleInputChange,\n  handleSubmit\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input name='name' value={newName} onChange={handleInputChange} />\n        <br />\n        number:{' '}\n        <input name='number' value={newNumber} onChange={handleInputChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <p key={person.name}>\n      {person.name} {person.number} &nbsp;\n      <button onClick={() => deletePerson(person.id)}>delete</button>\n    </p>\n  )\n}\n\nexport default Person\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 24\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={notificationStyle} className='error'>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst personsService = { getAll, create, update, deletePerson }\n\nexport default personsService\n","import React from 'react'\n\nconst ErrorMessage = ({ message }) => {\n  const errorMessageStyle = {\n    color: 'red',\n    fontStyle: 'italic',\n    fontSize: 24\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={errorMessageStyle} className='error'>\n      {message}\n    </div>\n  )\n}\n\nexport default ErrorMessage\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [showPersons, setShowPersons] = useState(persons)\n  const [newSearch, setNewSearch] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    setShowPersons(persons)\n  }, [persons])\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const found = persons.find((person) => person.name === newName)\n    if (found) {\n      if (window.confirm(`${found.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        const changedPerson = { ...found, number: event.target.number.value }\n        personsService\n          .update(changedPerson.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n            setMessage(`${changedPerson.name}'s number has been updated`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })\n          .catch((error) => {\n            console.log(error.response)\n            setErrorMessage(`${changedPerson.name} has already been removed from the server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n          })\n      }\n    } else {\n      personsService\n        .create({ name: newName, number: newNumber })\n        .then((response) => {\n          setPersons(persons.concat(response.data))\n          setMessage(`${response.data.name} was successfully added to the server`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n        .catch((error) => {\n          setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleInputChange = (event) => {\n    if (event.target.name === 'name') {\n      setNewName(event.target.value)\n    } else if (event.target.name === 'number') {\n      setNewNumber(event.target.value)\n    } else {\n      setNewSearch(event.target.value)\n      search(event.target.value)\n    }\n  }\n\n  const deletePerson = (id) => {\n    if (window.confirm('Are you sure you want to delete this person?')) {\n      personsService\n        .deletePerson(id)\n        .then(\n          setPersons(persons.filter(person => person.id !== id))\n        )\n    }\n  }\n\n  const search = (value) => {\n    if (value === '') {\n      setShowPersons(persons)\n    } else {\n      setShowPersons(\n        persons.filter((person) =>\n          person.name.toLowerCase().includes(value.toLowerCase())\n        )\n      )\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorMessage message={errorMessage} />\n      <Notification message={message} />\n      <Filter newSearch={newSearch} setNewSearch={setNewSearch} search={search} />\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleInputChange={handleInputChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      {showPersons.map((person) => {\n        return (\n          <React.Fragment key={person.name}>\n            <Person key={person.name} person={person} deletePerson={deletePerson} />\n          </React.Fragment>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}